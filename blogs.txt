http://codeforces.com/blog/entry/15643

order statistics tree
policy based data structures
